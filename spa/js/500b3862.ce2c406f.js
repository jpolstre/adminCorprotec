(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["500b3862"],{"54c6":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"q-mt-none q-pt-none",attrs:{padding:""}},[a("q-breadcrumbs",{staticClass:"q-pa-xs text-grey-8"},[a("q-breadcrumbs-el",{staticClass:"active-breadcrumb",attrs:{icon:"devices_other",label:"Productos",to:"/admin/productos"}})],1),a("q-separator",{staticClass:"q-mb-sm",attrs:{color:"primary"}}),a("q-table",{staticClass:"my-sticky-header-column-table",attrs:{title:"Productos",data:t.data,columns:t.columns,"row-key":"id",dense:"",flat:"",bordered:"","selected-rows-label":t.getSelectedString,selection:"single",selected:t.selected,pagination:t.pagination,loading:t.loading,filter:t.filter,"binary-state-sort":""},on:{"update:selected":function(e){t.selected=e},"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"top",fn:function(){return[a("div",{staticClass:"col-xs-12 col-md-8 q-mb-xs"},[a("q-btn",{staticClass:"animate-pop",attrs:{size:"xs",color:"primary",disable:t.loading,icon:"add"},on:{click:function(e){return t.$router.push({name:"GuardarProducto"})}}}),t.selected.length?a("q-btn",{staticClass:"on-right animate-pop",attrs:{size:"xs",color:"primary",disable:t.loading,icon:"edit"},on:{click:function(e){return t.$router.push({name:"GuardarProducto",params:{producto:t.selected[0]}})}}}):t._e(),t.selected.length?a("q-btn",{staticClass:"on-right animate-pop",attrs:{size:"xs",color:"red-5",disable:t.loading,icon:"delete_forever"},on:{click:function(e){return t.deleteProducto(t.selected[0])}}}):t._e()],1),a("div",{staticClass:"col-xs-12 col-md-4"},[a("q-input",{attrs:{filled:"",dense:"",debounce:"300",color:"primary"},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter="string"===typeof e?e.trim():e},expression:"filter"}})],1)]},proxy:!0},{key:"body-cell-imgs",fn:function(e){return[a("td",[a("q-img",{staticStyle:{width:"100%"},attrs:{src:t.$store.state.corprotec.baseUrl+"public/img/img-products/thumb_"+e.row.imgs,basic:"","spinner-color":"black"}})],1)]}}])}),a("q-page-scroller",{attrs:{position:"bottom-left","scroll-offset":150,offset:[18,18]}},[a("q-btn",{attrs:{round:"",glossy:"",icon:"keyboard_arrow_up",color:"primary"}})],1)],1)},n=[],i={data:function(){return{selected:[],filter:"",loading:!1,pagination:{sortBy:"fecha_mod",descending:!0,page:1,rowsPerPage:0},columns:[{name:"imgs",align:"left",label:"Imagen",field:"imgs",sortable:!1},{name:"nombre",align:"left",label:"Nombre",field:"nombre",sortable:!0},{name:"precio",align:"left",label:"Precio(Bs.)",field:"precio",sortable:!0},{name:"nombrecategoria",align:"left",label:"Categoria",field:"nombrecategoria",sortable:!0},{name:"nombremarca",align:"left",label:"Marca",field:"nombremarca",sortable:!0},{name:"estado",align:"left",label:"Estado",field:function(t){return 1*t.estado==1?"Habilitado":"Deshabilitado"},sortable:!0},{name:"destacado",align:"left",label:"Destacado",field:function(t){return 1*t.destacado==1?"Destacado":"No Destacado"},sortable:!0},{name:"fecha_mod",align:"left",label:"Fecha Mod.",field:"fecha_mod",sortable:!0}],data:[]}},mounted:function(){this.getData()},methods:{getData:function(){var t=this;this.loading=!0,this.$axios.get("".concat(t.$store.state.corprotec.baseUrl,"productos/getAll")).then(function(e){t.data=e.data.data,t.loading=!1}).catch(function(e){t.loading=!1,t.$q.notify({message:"Error En El Servidor.",position:"bottom",icon:"warning",color:"negative"})})},deleteProducto:function(t){var e=this;this.$q.dialog({dark:!0,title:"Eliminar Producto",message:'Seguro eliminar "'.concat(t.nombre,'" ?'),cancel:!0,persistent:!0}).onOk(function(){var a=e;a.$q.loading.show(),a.$axios.post("".concat(a.$store.state.corprotec.baseUrl,"productos/del/").concat(t.id)).then(function(t){a.$q.notify({message:"Ok Producto eliminado",position:"top",icon:"thumb_up",color:"green-5"}),a.$q.loading.hide(),a.getData()}).catch(function(t){a.$q.loading.hide(),a.$q.notify({message:"Error En El Servidor.",position:"top",icon:"warning",color:"negative"})})})},getSelectedString:function(){return 0===this.selected.length?"":"".concat(this.selected.length," registro").concat(this.selected.length>1?"s":""," seleccionado").concat(this.selected.length>1?"s":""," de ").concat(this.data.length)}}},r=i,s=(a("818d"),a("2877")),l=Object(s["a"])(r,o,n,!1,null,null,null);e["default"]=l.exports},"818d":function(t,e,a){"use strict";var o=a("bb18"),n=a.n(o);n.a},bb18:function(t,e,a){}}]);